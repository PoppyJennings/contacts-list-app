<p id="notice"><%= notice %></p>

<h1>This is the show page for each contact</h1>
<p>
  <strong>First name:</strong>
  <%= @contact.first_name %>
</p>

<p>
  <strong>Last name:</strong>
  <%= @contact.last_name %>
</p>

<p>
  <strong>Email:</strong>
  <%= @contact.email %>
</p>

<p>
  <strong>Phone:</strong>
  <%= @contact.phone %>
</p>

<%= render 'form', contact: @contact %>

<%# <%= link_to 'Edit', edit_contact_path(@contact) %>
<%= link_to 'Back', contacts_path %>

<h1>Contact history</h1>

<%= @contact.changes %>
<%= @contact.previous_changes %>



<h2>Versions</h2>
<table class='table'>
  <thead>
    <tr>
      <th>ID</th>
      <th>Modifier</th>
      <th>Action</th>
      <th>Changes</th>
    </tr>
  </thead>
  <tbody>
    <% @contact.versions.each do |version| %>
      <%= tag.tr do %>
        <%= tag.td version.id %>
        <%= tag.td version.whodunnit %>
        <%= tag.td link_to 'rollback', contact_rollback_path(@contact, version: version) %>
        <%= tag.td do %>
          <%= tag.ul class: 'list-group' do %>
            <li class='list-group-item'>
              <strong>First Name:</strong> 
              <%= version.changed_object.first_name %> 
            </li>
            <li class='list-group-item'>
              <strong>Last Name:</strong> 
              <%= version.changed_object.last_name %>
            </li>
            <li class='list-group-item'>
              <strong>Email:</strong> 
              <%= version.changed_object.email %>
            </li>
            <li class='list-group-item'>
              <strong>Phone:</strong> 
              <%= version.changed_object.phone %>
            </li>
          <% end %>
        <% end %>
      <% end %>
    <% end %>
</table>